<app-loading [show$]="loading$"></app-loading>

<p-table [value]="items$ | async" *ngIf="(items$ | async) != null && (items$ | async).length > 0">
    <ng-template pTemplate="header">
        <tr>
            <th>Name</th>
            <th>Service Category Name</th>
            <th>Quantity</th>
            <th>Date</th>
            <th>Address</th>
            <th>Amount</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-columns="columns">
        <tr>
            <td>{{rowData.name}}</td>
            <td>{{rowData.serviceCategory.name}}</td>
            <td>{{rowData.quantity}}</td>
            <td>{{rowData.date | date:'mediumDate'}}</td>
            <td>{{rowData.address}}</td>
            <td pEditableColumn>
                <p-cellEditor>
                    <ng-template pTemplate="input">
                        <input type="number" [(ngModel)]="rowData.amount">
                    </ng-template>
                    <ng-template pTemplate="output">
                        {{rowData.amount}}
                    </ng-template>
                </p-cellEditor>
            </td>
            <td><button mat-raised-button color="primary" (click)="onUpdateBid(rowData)">Update</button>
            </td>
        </tr>
    </ng-template>
</p-table>
<h4 *ngIf="(items$ | async) == null || ((items$ | async) != null && (items$ | async).length === 0)">No
    active bids</h4>